<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Monitoring Kafka performance metrics and activity when deployed via the IBM Cloud Pak for Integration on Red Hat OpenShift Container Platform."><meta name=author content="Jerome Boyer"><link href=https://ibm-cloud-architecture.github.com/refarch-eda/use-cases/monitoring-on-ocp/ rel=canonical><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.1"><title>Monitoring IBM Event Streams on OpenShift Cloud Platform - IBM Automation - Event-driven Solution - Sharing knowledge</title><link rel=stylesheet href=../../assets/stylesheets/main.69437709.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="IBM Automation - Event-driven Solution - Sharing knowledge" class="md-header__button md-logo" aria-label="IBM Automation - Event-driven Solution - Sharing knowledge" data-md-component=logo> <img src=../../images/es-icon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> IBM Automation - Event-driven Solution - Sharing knowledge </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Monitoring IBM Event Streams on OpenShift Cloud Platform </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibm-cloud-architecture/refarch-eda title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ibm-cloud-architecture/refarch-eda </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="IBM Automation - Event-driven Solution - Sharing knowledge" class="md-nav__button md-logo" aria-label="IBM Automation - Event-driven Solution - Sharing knowledge" data-md-component=logo> <img src=../../images/es-icon.png alt=logo> </a> IBM Automation - Event-driven Solution - Sharing knowledge </label> <div class=md-nav__source> <a href=https://github.com/ibm-cloud-architecture/refarch-eda title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ibm-cloud-architecture/refarch-eda </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../news/ class=md-nav__link> What's new </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Introduction <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Introduction data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../introduction/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../introduction/reference-architecture/ class=md-nav__link> Reference Architecture </a> </li> <li class=md-nav__item> <a href=../../introduction/usecases/ class=md-nav__link> Business Use Cases </a> </li> <li class=md-nav__item> <a href=../../introduction/target-audiences/ class=md-nav__link> Target Audiences </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Learning Journey <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Learning Journey" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Learning Journey </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../journey/101/ class=md-nav__link> Get started (101 content) </a> </li> <li class=md-nav__item> <a href=../../journey/201/ class=md-nav__link> Deeper dive (201 content) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/terms-and-definitions/ class=md-nav__link> Terms & Definitions </a> </li> <li class=md-nav__item> <a href=../../concepts/integration/ class=md-nav__link> Agile Integration </a> </li> <li class=md-nav__item> <a href=../../concepts/events-versus-messages/ class=md-nav__link> Event streaming versus Queuing </a> </li> <li class=md-nav__item> <a href=../../concepts/fit-to-purpose/ class=md-nav__link> Fit for purpose </a> </li> <li class=md-nav__item> <a href=../../concepts/model/ class=md-nav__link> Devising the data models </a> </li> <li class=md-nav__item> <a href=../../concepts/flow-architectures/ class=md-nav__link> Flow Architecture </a> </li> <li class=md-nav__item> <a href=../../concepts/service-mesh/ class=md-nav__link> Service mesh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Advantages of EDA <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advantages of EDA" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Advantages of EDA </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advantages/microservice/ class=md-nav__link> Microservice decoupling </a> </li> <li class=md-nav__item> <a href=../../advantages/reactive/ class=md-nav__link> Reactive systems </a> </li> <li class=md-nav__item> <a href=../../advantages/resiliency/ class=md-nav__link> Resiliency </a> </li> <li class=md-nav__item> <a href=../../advantages/scalability/ class=md-nav__link> Scalability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Patterns in EDA <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Patterns in EDA" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Patterns in EDA </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../patterns/intro/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../patterns/event-sourcing/ class=md-nav__link> Event Sourcing </a> </li> <li class=md-nav__item> <a href=../../patterns/cqrs/ class=md-nav__link> CQRS </a> </li> <li class=md-nav__item> <a href=../../patterns/saga/ class=md-nav__link> Saga </a> </li> <li class=md-nav__item> <a href=../../patterns/dlq/ class=md-nav__link> Dead Letter Queue </a> </li> <li class=md-nav__item> <a href=../../patterns/topic-replication/ class=md-nav__link> Topic Replication </a> </li> <li class=md-nav__item> <a href=../../patterns/data-pipeline/ class=md-nav__link> Data Intensive App </a> </li> <li class=md-nav__item> <a href=../../patterns/realtime-analytics/ class=md-nav__link> Near real-time analytics </a> </li> <li class=md-nav__item> <a href=../../patterns/api-mgt/ class=md-nav__link> API management </a> </li> <li class=md-nav__item> <a href=../../patterns/cep/ class=md-nav__link> Situational decision </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Methodology <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Methodology data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Methodology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/event-storming/ class=md-nav__link> Event Storming </a> </li> <li class=md-nav__item> <a href=../../methodology/domain-driven-design/ class=md-nav__link> Domain-Driven Design </a> </li> <li class=md-nav__item> <a href=../../methodology/data-intensive/ class=md-nav__link> Data Intensive App Development </a> </li> <li class=md-nav__item> <a href=../../methodology/data-lineage/ class=md-nav__link> Data lineage </a> </li> <li class=md-nav__item> <a href=../../methodology/governance/ class=md-nav__link> Governance </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9> Technology <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Technology data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Technology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../technology/kafka-overview/ class=md-nav__link> Kafka Overview </a> </li> <li class=md-nav__item> <a href=../../technology/event-streams/ class=md-nav__link> Event Streams </a> </li> <li class=md-nav__item> <a href=https://ibm-cloud-architecture.github.io/eda-tech-academy/demo/ class=md-nav__link> Event Streams Demo Script </a> </li> <li class=md-nav__item> <a href=../../technology/faq/ class=md-nav__link> Kafka FAQ </a> </li> <li class=md-nav__item> <a href=../../technology/mq/ class=md-nav__link> MQ in EDA context </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-producers/ class=md-nav__link> Kafka Producers </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-consumers/ class=md-nav__link> Kafka Consumers </a> </li> <li class=md-nav__item> <a href=../../technology/avro-schemas/ class=md-nav__link> Avro Schema </a> </li> <li class=md-nav__item> <a href=../../technology/advanced-kafka/ class=md-nav__link> Advanced Concepts </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-streams/ class=md-nav__link> Kafka Streams </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-connect/ class=md-nav__link> Kafka Connect </a> </li> <li class=md-nav__item> <a href=../../technology/event-streams/es-maas/security/ class=md-nav__link> Kafka security </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-monitoring/ class=md-nav__link> Kafka Monitoring </a> </li> <li class=md-nav__item> <a href=../../technology/kafka-mirrormaker/ class=md-nav__link> Mirror Maker 2 </a> </li> <li class=md-nav__item> <a href=../../technology/security/ class=md-nav__link> Security </a> </li> <li class=md-nav__item> <a href=../../technology/flink/ class=md-nav__link> Apache Flink </a> </li> <li class=md-nav__item> <a href=../../technology/spring/ class=md-nav__link> Spring cloud </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 type=checkbox id=__nav_10 checked> <label class=md-nav__link for=__nav_10> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Cases" data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gitops/ class=md-nav__link> Event-driven solution GitOps </a> </li> <li class=md-nav__item> <a href=../../technology/event-streams/es-cp4i/ class=md-nav__link> Deploy Event-Streams </a> </li> <li class=md-nav__item> <a href=../connect-s3/ class=md-nav__link> Kafka Connect - S3 </a> </li> <li class=md-nav__item> <a href=../connect-cos/ class=md-nav__link> Kafka Connect - COS </a> </li> <li class=md-nav__item> <a href=../connect-jdbc/ class=md-nav__link> Kafka Connect - jdbc </a> </li> <li class=md-nav__item> <a href=../connect-mq/ class=md-nav__link> Kafka Connect - MQ </a> </li> <li class=md-nav__item> <a href=../connect-rabbitmq/ class=md-nav__link> Kafka Connect - Rabbitmq </a> </li> <li class=md-nav__item> <a href=../kafka-streams/ class=md-nav__link> Kafka Streams labs </a> </li> <li class=md-nav__item> <a href=../db2-debezium/ class=md-nav__link> DB2 - CDC Debezium - Outbox </a> </li> <li class=md-nav__item> <a href=../kafka-mm2/ class=md-nav__link> Mirror maker 2 labs </a> </li> <li class=md-nav__item> <a href=../schema-registry-on-cloud/ class=md-nav__link> Schema registry ES on Cloud </a> </li> <li class=md-nav__item> <a href=../schema-registry-on-ocp/ class=md-nav__link> Schema registry </a> </li> <li class=md-nav__item> <a href=../monitoring-on-cloud/ class=md-nav__link> Monitoring ES on Cloud </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Monitoring ES <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Monitoring ES </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#scenario-prereqs class=md-nav__link> Scenario Prereqs </a> </li> <li class=md-nav__item> <a href=#generate-event-load class=md-nav__link> Generate Event Load </a> </li> <li class=md-nav__item> <a href=#explore-the-preconfigured-event-streams-dashboard class=md-nav__link> Explore the preconfigured Event Streams Dashboard </a> </li> <li class=md-nav__item> <a href=#import-grafana-dashboards class=md-nav__link> Import Grafana Dashboards </a> </li> <li class=md-nav__item> <a href=#view-grafana-dashboards class=md-nav__link> View Grafana Dashboards </a> </li> <li class=md-nav__item> <a href=#create-an-alert class=md-nav__link> Create an Alert </a> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next Steps </a> <nav class=md-nav aria-label="Next Steps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#external-monitoring-tools class=md-nav__link> External Monitoring Tools </a> </li> <li class=md-nav__item> <a href=#advanced-scenarios class=md-nav__link> Advanced Scenarios </a> </li> <li class=md-nav__item> <a href=#additional-reading class=md-nav__link> Additional Reading </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11 type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11> Scenarios <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Scenarios data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Scenarios </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../scenarios/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=https://ibm-cloud-architecture.github.io/refarch-kc/ class=md-nav__link> Reefer Shipment Solution </a> </li> <li class=md-nav__item> <a href=https://ibm-cloud-architecture.github.io/vaccine-solution-main/ class=md-nav__link> Vaccine at Scale </a> </li> <li class=md-nav__item> <a href=https://ibm-cloud-architecture.github.io/eda-rt-inventory-gitops class=md-nav__link> Near real-time Inventory </a> </li> <li class=md-nav__item> <a href=../../scenarios/saga-orchestration/ class=md-nav__link> SAGA with MQ Orchestration </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../additional-reading/ class=md-nav__link> Additional reading </a> </li> <li class=md-nav__item> <a href=../../contribute/ class=md-nav__link> Contribute to this Site </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#scenario-prereqs class=md-nav__link> Scenario Prereqs </a> </li> <li class=md-nav__item> <a href=#generate-event-load class=md-nav__link> Generate Event Load </a> </li> <li class=md-nav__item> <a href=#explore-the-preconfigured-event-streams-dashboard class=md-nav__link> Explore the preconfigured Event Streams Dashboard </a> </li> <li class=md-nav__item> <a href=#import-grafana-dashboards class=md-nav__link> Import Grafana Dashboards </a> </li> <li class=md-nav__item> <a href=#view-grafana-dashboards class=md-nav__link> View Grafana Dashboards </a> </li> <li class=md-nav__item> <a href=#create-an-alert class=md-nav__link> Create an Alert </a> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next Steps </a> <nav class=md-nav aria-label="Next Steps"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#external-monitoring-tools class=md-nav__link> External Monitoring Tools </a> </li> <li class=md-nav__item> <a href=#advanced-scenarios class=md-nav__link> Advanced Scenarios </a> </li> <li class=md-nav__item> <a href=#additional-reading class=md-nav__link> Additional Reading </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ibm-cloud-architecture/refarch-eda/edit/master/docs/use-cases/monitoring-on-ocp/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1>Monitoring ES</h1> <p><inlinenotification kind=info>This tutorial was developed with and validated against IBM Cloud Pak for Integration Version 2020.2.1 and IBM Event Streams Version 10.0.0. Any deviation from those versions while performing the tasks in this tutorial may produced unexpected results.</inlinenotification></p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>Deploying IBM Event Streams on OpenShift Cloud Platform (OCP) as the Apache Kafka-based event backbone is a great first step in your Event-Driven Architecture implementation. However, now you must maintain that Kafka cluster and understand the intricate details of what a <em>"healthy"</em> cluster looks like. This tutorial will walk you through some of the initial monitoring scenarios that are available for IBM Event Streams deployed on OCP.</p> <p>The raw monitoring use cases and capabilities are available from the official IBM Event Streams documentation via the links below: - <a href=https://ibm.github.io/event-streams/administering/deployment-health/ >Monitoring deployment health</a> - <a href=https://ibm.github.io/event-streams/administering/cluster-health/ >Monitoring Kafka cluster health</a> - <a href=https://ibm.github.io/event-streams/administering/topic-health/ >Monitoring topic health</a> - <a href=https://ibm.github.io/event-streams/administering/consumer-lag/ >Monitoring Kafka consumer group lag</a></p> <p>This tutorial will focus on a more guided approach to understanding the foundation of Apache Kafka monitoring capabilities provided by IBM Event Streams and the IBM Cloud Pak for Integration. Upon completion of this tutorial, you can extend your own experience through the <a href=#advanced-scenarios>Advanced Scenarios</a> section to adapt Kafka monitoring capabilites to your project's needs.</p> <h2 id=scenario-prereqs>Scenario Prereqs<a class=headerlink href=#scenario-prereqs title="Permanent link">&para;</a></h2> <p><strong>OpenShift Container Platform</strong></p> <ul> <li>This deployment scenario was developed for use on the OpenShift Container Platform, with a minimum version of <code>4.4</code>.</li> </ul> <p><strong>Cloud Pak for Integration</strong></p> <ul> <li>This deployment scenario was developed for use with the 2020.2.x release of the <a href=https://www.ibm.com/support/knowledgecenter/en/SSGT7J_20.2/welcome.html>IBM Cloud Pak for Integration</a>, installed on OpenShift 4.4.</li> </ul> <p><strong>IBM Event Streams</strong></p> <ul> <li>This deployment scenario requires a working installation of <a href=https://ibm.github.io/event-streams/ >IBM Event Streams V10.0</a> or greater, deployed on the Cloud Pak for Integration environment mentioned above.</li> <li>For Cloud Pak installation guidance, you can follow the <a href=https://cloudpak8s.io/integration/cp4i-deploy-eventstreams/ >Cloud Pak Playbook</a> installation instructions.</li> </ul> <p><strong>Git</strong></p> <ul> <li>We will need to clone repositories.</li> </ul> <p><strong>Java</strong></p> <ul> <li>Java Development Kit (JDK) v1.8+ (Java 8+)</li> </ul> <p><strong>Maven</strong></p> <ul> <li>The scenario uses Maven v3.6.x</li> </ul> <h2 id=generate-event-load>Generate Event Load<a class=headerlink href=#generate-event-load title="Permanent link">&para;</a></h2> <p><a href=/technology/event-streams/starter-app>See now separate note on Starter application</a></p> <h2 id=explore-the-preconfigured-event-streams-dashboard>Explore the preconfigured Event Streams Dashboard<a class=headerlink href=#explore-the-preconfigured-event-streams-dashboard title="Permanent link">&para;</a></h2> <p>This section will walk through the default dashboard and user interface available on every IBM Event Streams deployment.</p> <ol> <li> <p>Log into the Event Streams Dashboard.</p> </li> <li> <p>Click the <strong>Monitoring</strong> tab from the primary navigation menu on the left hand side.</p> </li> <li> <p>From here, you can view information on messages, partitions, and replicas for the past hour, day, week, or month.</p> </li> </ol> <p><img alt=Monitoring10 src=images/monitoring10.png></p> <ol> <li> <p>Click the <strong>Topics</strong> tab from the primary navigation menu on the left hand side.</p> </li> <li> <p>Click the name of your topic that you previously created in the <a href=#generate-event-load>Generate Event Load</a> section. This should be in the format of <code>monitoring-lab-topic-[your-initials]</code>.</p> </li> <li> <p>You are presented with a <strong>Producers</strong> page showing the number of active producers, as well as the average message size produced per second and average number of messages produced per second. You can modify the time window by changing the values in the <em>View producers by time</em> box. <img alt=Monitoring11 src=images/monitoring11.png></p> </li> <li>Click the <strong>Messages</strong> tab to view all the data and metadata for events stored in the topic. You can view messages across partitions or on specific partitions, as well as jump to specific offsets or timestamps. <img alt=Monitoring12 src=images/monitoring12.png></li> <li>Click <strong>Consumer Groups</strong> to be shown the number of consumer groups that have previously registered or are currently registered as consuming from the topic. <img alt=Monitoring13 src=images/monitoring13.png></li> <li>You are able to see how many active members a consumer group has, as well as have many unconsumed partitions a topic has inside of a consumer group (also known as <em>consumer group lag</em>)- a key metric for driving parallelism in event-driven microservices! <img alt=Monitoring14 src=images/monitoring14.png></li> </ol> <h2 id=import-grafana-dashboards>Import Grafana Dashboards<a class=headerlink href=#import-grafana-dashboards title="Permanent link">&para;</a></h2> <p>This section will walk through the Grafana Dashboard capabilities documented in the <a href=https://ibm.github.io/event-streams/administering/cluster-health/#grafana>official IBM Event Streams documentation</a>.</p> <ol> <li>Apply the Grafana Dashboard for overall Kafka Health via a <code>MonitoringDashboard</code> custom resource:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>oc apply -f https://raw.githubusercontent.com/ibm-messaging/event-streams-operator-resources/master/grafana-dashboards/ibm-eventstreams-kafka-health-dashboard.yaml
</code></pre></div> <h2 id=view-grafana-dashboards>View Grafana Dashboards<a class=headerlink href=#view-grafana-dashboards title="Permanent link">&para;</a></h2> <p>To view the newly imported Event Streams Grafana dashboard for overall Kafka Health, follow these steps:</p> <ol> <li>Navigate to the IBM Cloud Platform Common Services console homepage via <code>https://cp-console.[cluster-name]</code>, click the hamburger icon in the top left and click the <strong>Monitoring</strong> in the expanded menu to open the Grafana homepage.</li> </ol> <p><img alt=Monitoring15 src=images/monitoring15.png></p> <ol> <li>Click the user icon in the bottom left corner to open the user profile page.</li> </ol> <p><img alt=Monitoring16 src=images/monitoring16.png></p> <ol> <li>In the <strong>Organizations</strong> table, find the namespace where you installed the Event Streams <code>monitoringdashboard</code> custom resource (most likely the <code>eventstreams</code>), and switch the user profile to that namespace.</li> </ol> <p><img alt=Monitoring17 src=images/monitoring17.png></p> <ol> <li> <p>Hover over the <em>Dashboards</em> square on the left and click <strong>Manage</strong>.</p> </li> <li> <p>Click on <strong>IBM Event Streams Kafka</strong> dashboard in the Dashboard table to view the newly imported resource.</p> </li> </ol> <p><img alt=Monitoring18 src=images/monitoring18.png></p> <ol> <li>Using the drop-down selectors at the top, select the following:</li> <li><strong>Namespace</strong> which has the running instance of your Event Streams deployment,</li> <li><strong>Cluster Name</strong> for the desired Event Streams cluster</li> <li><strong>Topic</strong> that matches desired topics for viewing <em>(only topics that have been published to will appear in this list)</em></li> <li><strong>Broker</strong> to select individual or multiple brokers in the cluster.</li> </ol> <p><img alt=Monitoring19 src=images/monitoring19.png></p> <p><strong>Note:</strong> Not all of the metrics that Kafka uses are published to Prometheus by default. The metrics that are published are controlled by a ConfigMap. You can publish metrics by adding them to the ConfigMap.</p> <!--
## Import Kibana Dashboards

<InlineNotification kind="info"><strong>TODO PREREQ</strong> - https://docs.openshift.com/container-platform/4.4/logging/cluster-logging-deploying.html</InlineNotification>

- https://ibm.github.io/event-streams/administering/cluster-health/#kibana

## View Kibana Dashboards

TBD
--> <h2 id=create-an-alert>Create an Alert<a class=headerlink href=#create-an-alert title="Permanent link">&para;</a></h2> <p>A monitoring system is only as good as the alerts it can send out, since you're not going to be watching that Grafana dashboard all day and night! This section will walk through the creation of a quick alert rule which will automatically trigger, as well as how to view and silence that alert in the provided Alertmanager interface.</p> <p>The official <a href=https://ibm.github.io/event-streams/tutorials/monitoring-alerts/#selecting-the-metric-to-monitor>Event Streams documentation</a> provides a walkthrough of selecting the desired metrics to monitor, but for our example, we will leverage the <code>kafka_server_replicamanager_partitioncount_value</code> metric as an indicator of topic creation <em>(as the overall partition count will increase when a topic is first created)</em>.</p> <ol> <li>On the command line, create this sample rule which will fire whenever the partition count is over 50 <em>(which is the baseline number of partitions the Event Streams system uses for its internal topic partitions)</em>. In order to do this, create <code>prom-rule-partitions.yaml</code> file with the following content in it:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">monitoring.coreos.com/v1</span><span class=w></span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PrometheusRule</span><span class=w></span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=nt>metadata</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>        </span><span class=nt>component</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">icp-prometheus</span><span class=w></span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">demo-partition-count</span><span class=w></span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=nt>spec</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PartitionCount</span><span class=w></span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>        </span><span class=nt>rules</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PartitionCount</span><span class=w></span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>            </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kafka_server_replicamanager_partitioncount_value &gt; 50</span><span class=w></span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>            </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10s</span><span class=w></span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>            </span><span class=nt>labels</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>              </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">critical</span><span class=w></span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>            </span><span class=nt>annotations</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>              </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Partition</span><span class=nv> </span><span class=s>count&#39;</span><span class=w></span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>              </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s>&#39;There</span><span class=nv> </span><span class=s>are</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>partition(s)</span><span class=nv> </span><span class=s>reported</span><span class=nv> </span><span class=s>by</span><span class=nv> </span><span class=s>broker</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.kafka</span><span class=nv> </span><span class=s>}}&#39;</span><span class=w></span>
</code></pre></div> <ol> <li>Create the alert rule via the OpenShift CLI:</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>oc apply -f prom-rule-partitions.yaml
</code></pre></div> <ol> <li>You can view the creation and status of your alert via the OpenShift CLI:</li> </ol> <p><div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>oc get PrometheusRule demo-partition-count
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>oc describe PrometheusRule demo-partition-count
</code></pre></div> 1. Access the Prometheus monitoring backend that is provided in the IBM Cloud Pak Common Services via <code>https://cp-console.[cluster-name]/prometheus</code>.</p> <p><img alt=Monitoring20 src=images/monitoring20.png></p> <ol> <li>Click the <strong>Alerts</strong> button in the header.</li> <li>You should see your new <strong>PartitionCount</strong> rule firing and highlighted in red.</li> <li><em><strong>NOTE:</strong></em> If you do not see your PrometheusRule, you may need to create it in the <code>ibm-common-services</code> namespace depending upon your OpenShift cluster and Cloud Pak operator configuration. This can be done by supplying the <code>-n ibm-common-services</code> flag to the <code>oc apply -f prom-rule-partitions.yaml</code> command.</li> <li>Click on the <strong>PartitionCount</strong> alert to expand the details and see which components are triggering the alert.</li> </ol> <p><img alt=Monitoring21 src=images/monitoring21.png></p> <p>Now that we have created alerts from the monitoring system, you will want a way to manage those alerts. The default <em>Alertmanager</em> component provides a way to manage firing alerts, notifications, and silences. Prometheus is capable of integrating with many notification systems - from Slack to PagerDuty to HipChat to common HTTP webhooks. For further information on the extensibility of Prometheus, you can view the <a href=https://prometheus.io/docs/alerting/latest/configuration/ >Alerting configuration section</a> of the official docs. For configuring the IBM Cloud Pak Common Services deployed instance of Prometheus, you can view the <a href=https://www.ibm.com/support/knowledgecenter/SSHKN6/monitoring/1.x.x/monitoring_service.html#configuring-alertmanager>Configuring Alertmanager section</a> of the official docs.</p> <p>In this section of the tutorial, you will walk through the Alertmanager interface and silence the previously created alerts.</p> <ol> <li>Access the default Alertmanager instance via <code>https://cp-console.apps.[cluster-name]/alertmanager/</code>.</li> <li>You should see the newly created <code>PartitionCount</code> alerts listed as firing.</li> </ol> <p><img alt=Monitoring22 src=images/monitoring22.png></p> <ol> <li>Click on the <strong>Info</strong> button for the first alert to see the additional context provided by the alert definition <em>(ie there are more than 50 partitions)</em></li> </ol> <p><img alt=Monitoring23 src=images/monitoring23.png></p> <ol> <li> <p>As alerts fire and become acknowledged, you can silence them to mark them as known, acknowledged, or resolved. To do this, you create a Silence. Click the <strong>Silence</strong> button for one of the alerts in the list.</p> </li> <li> <p>You will see a start time, a duration, and an end time by default. This gives you initial control over what you are silencing and for how long.</p> </li> <li> <p>Next, you will see a list of <em>Name</em> and <em>Value</em> pairs that are filled with the information from the alert instance you clicked on.</p> </li> </ol> <p><img alt=Monitoring24 src=images/monitoring24.png></p> <ol> <li>Delete the elements in the <strong>Matchers</strong> list until only the following items are left. This will allow for a robust capture of all the <em>PartitionCount</em> alerts for the same Event Streams cluster.</li> <li><code>alertname</code></li> <li><code>app_kubernetes_io_instance</code></li> <li><code>app_kubernetes_io_part_of</code></li> <li> <p><code>kubernetes_namespace</code> <img alt=Monitoring25 src=images/monitoring25.png></p> </li> <li> <p>Your username should already be filled in for the <strong>Creator</strong>, so enter a <strong>Comment</strong> of <em>"Silencing demo alerts"</em> and click <strong>Preview Alerts</strong>.</p> </li> </ol> <p><img alt=Monitoring26 src=images/monitoring26.png></p> <ol> <li> <p>Once the affected number of alerts matches the same number of <em>PartitionCount</em> alerts that were listed as firing in Prometheus, click <strong>Create</strong>.</p> </li> <li> <p>Clicking on the <strong>Alerts</strong> tab in the header, you will now see those alerts are silenced - meaning you acknowledged them.</p> </li> </ol> <p><img alt=Monitoring27 src=images/monitoring27.png></p> <ol> <li>To make them visible again prior to the expiration of the created Silence, click on the <strong>Silences</strong> tab from the header. This page lists all the Active, Pending, and Expired silences in the system. You can view, edit, and expire any active Silence to again have the alerts show up in Alertmanager or anywhere else Prometheus is sending notifications.</li> </ol> <p><img alt=Monitoring28 src=images/monitoring28.png></p> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <h3 id=external-monitoring-tools>External Monitoring Tools<a class=headerlink href=#external-monitoring-tools title="Permanent link">&para;</a></h3> <p>IBM Event Streams supports additional monitoring capabilities with third-party monitoring tools via a connection to the clusters JMX port on the Kafka brokers.</p> <p>You must first <a href=https://ibm.github.io/event-streams/installing/configuring/#configuring-external-monitoring-through-jmx>configure</a> your IBM Event Streams instance for specific access by these external monitoring tools.</p> <p>You can then follow along with the <a href=https://ibm.github.io/event-streams/tutorials/ >tutorials</a> defined in the official IBM Event Streams documentation to monitor Event Streams with tools such as Datadog and Splunk.</p> <h3 id=advanced-scenarios>Advanced Scenarios<a class=headerlink href=#advanced-scenarios title="Permanent link">&para;</a></h3> <p>As shown in this tutorial, IBM Event Streams provides a robust default set of monitoring metrics which are available to use right out of the box. However, you will most likely need to define custom metrics or extend existing metrics for use in custom dashboards or reporting processes. The following links <em>(in order of recommended usage)</em> discuss additional monitoring capabilities, technologies, and endpoints that are supported with IBM Event Streams to extend your custom monitoring solution as needed:</p> <ul> <li> <p><a href=https://ibm.github.io/event-streams/installing/configuring/#configuring-the-kafka-exporter><strong>Kafka Exporter</strong></a> - You can use Event Streams to export metrics to Prometheus. These metrics are otherwise only accessible through the Kafka command line tools and allow per-topic metrics, such as consumer group lag, to be colleced.</p> </li> <li> <p><a href=https://ibm.github.io/event-streams/installing/configuring#configuring-the-jmx-exporter><strong>JMX Exporter</strong></a> - You can use Event Streams to collect JMX metrics from Kafka brokers, ZooKeeper nodes, and Kafka Connect nodes, and export them to Prometheus via the <a href=https://github.com/prometheus/jmx_exporter>Prometheus JMX Exporter</a>.</p> </li> <li> <p><a href=https://ibm.github.io/event-streams/security/secure-jmx-connections/#configuring-a-jmxtrans-deployment><strong>JmxTrans</strong></a> - JmxTrans can be used to push JMX metrics from Kafka brokers to external applications or databases.</p> </li> </ul> <h3 id=additional-reading>Additional Reading<a class=headerlink href=#additional-reading title="Permanent link">&para;</a></h3> <ul> <li><a href=https://kafka.apache.org/documentation/#monitoring>Monitoring Kafka</a> via official Apache Kafka documentation</li> <li><a href=https://www.datadoghq.com/blog/monitoring-kafka-performance-metrics/ >Monitoring Kafka performance metrics</a> via <strong>Datadog</strong></li> <li><a href=https://blog.serverdensity.com/how-to-monitor-kafka/ >How to Monitor Kafka</a> via <strong>Server Density</strong></li> <li><a href=https://cloudpak8s.io/day2/Monitoring/ >OpenShift Day 2 Monitoring</a> via <strong>IBM Cloud Paks Playbook</strong></li> <li><a href=https://ibm.github.io/event-streams/administering/cluster-health/ >Monitoring Kafka cluster health</a> via <strong>IBM Event Streams documentation</strong></li> <li><a href=https://docs.openshift.com/container-platform/4.3/monitoring/cluster_monitoring/configuring-the-monitoring-stack.html>Configuring the monitoring stack</a> via <strong>Red Hat OpenShift</strong> documentation</li> <li><a href=https://docs.openshift.com/container-platform/4.3/monitoring/cluster_monitoring/examining-cluster-metrics.html>Examining cluster metrics</a> via <strong>Red Hat OpenShift</strong> documentation</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../monitoring-on-cloud/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Monitoring ES on Cloud" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Monitoring ES on Cloud </div> </div> </a> <a href=../../scenarios/overview/ class="md-footer__link md-footer__link--next" aria-label="Next: Overview" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Overview </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright Â© 2022 IBM </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/ibm-cloud-architecture target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/agileitarchitecture target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.instant", "navigation.tabs.sticky", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.9c69f0bc.min.js></script> </body> </html>